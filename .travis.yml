sudo: required
dist: trusty
language: node_js
node_js:
- 10.5.0
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  chrome: stable
before_script:
- yarn add polymer-cli
- polymer install --variants
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$DEPLOYSECRET"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: V5nlbHXCBldXWMUDpm5tkojbfE9ISdtcGdHXj0A/mtqgEz0d9mPeg+s9m8mLYimJHz9buBOHq602k+5rxfUbxmdM56fZYJrm/hyeb4qjpuADQOoI+W0dOh2qv7ubek8BEHPKFJzirZjAGZVTUN6OMIEOenBImWYBZ29jb010Vc+zQ/tjkHMNjjh6gH+2E9+Uwg3PMHP5upYfnZhPgbRqkX4RmtvOJZzUuKilfSLOb+pvc1LJGbDPDnw5E8mZ2IXzeap8YXOhvKfHEyU8KkCJaNhEJ9jrOK97jDSkIUOzS9fTNHIYdylwauWTYVCLE3zk/TN+PCBbAPO4Gr7qQmTl0ho+ZpndyI93q9KdXdKLrE9N2MBEKz9Pek62WQVdODAw9/n2h1pNYON9P25mJNdG/k7puDOUkZcNnC1B29sSNKpBWgJwFtlssxrRtT7urXr/RBO2gw79OgVt5gZw2VBTu/3jFg3YBxcATj2qmprpO/LhBR2i+mnrHc0XAQiw3uqBeaLy03AzzFJVP39q6I5MdTezMw0wsUZAhGm9wf9CYSrxC1BpQTKGr9VbPoOVHLX7g7owIlFWvYKiQg5uITHKJbaPUwgqZ1lGNQ2sWnVSCUcgWUG5wdNxk142y+SPHkMjN0pu8DPwilJdNc0UZvurhwN+BfPa8DAlo8QWOdh15/Y=
  - secure: 0svSZvjDpE6aZvJuRRzRKXmjVwq8Op3OKUXnGvSj1NxMa4ZPkzDSH26EbivIS4CJhDNMI+q0XzIdFRYd2nPTciS7PlyF8HzGYZnkTb/7CGmG+sZcniiDZKX0pSx72KDptmkh5L67X0/krK4Wj0lRncIkWN4fZn3OYLrP9Q5XCVB0ebPLD8Eh5XmEV+sTR0/O8cF4IIJ7L6oyumTwU/SlCm4MEco4EeoKN62iMbY/HWMjkVm9T8WQJ4GH6O5PewVft/+V4E7ADK0SQ9eJQxhoOH8BSRITUUloA0fvQnjL+9BaqZGdMGYIyYXP6U3M+smZD1OrEOnRkaJJdahGwy/28GY/oWb/MmsbKU1qGr/BWHiA9G2UyhWLn2g3tFJBW3HMO2Oi3z7IhLwioe2KYH7eR6Ikk23UqlAxgRZO80DqVwl7YluR8fAx8A+TqEIlK+KQGfupqay+LqNDMUEUfwzOMFGMXZvFX8I8ffA/gwtftn+z97MpvSjHhmb919brOOQ7juVoYw8CL5qptKegaZ+CM/waDLivNDPLiSXk0eofVTwBhg6seXic55ZIEAxJVuW+ix3r4yoeseXBf07ENMX2nqFxKMv5re0VFrUpivGtOPLpVzqanfp3UdvMUq1GlsQwXcHsBgR8D9IwvM1Wr/x74X5unqzuJ3TvbocYJOpA178=
  - secure: XNPNzazSYm6HZ+jdAPkSr0/st46IdnPvi4hLDNEQ5+P7kB+8ohqChXiqIGyGlkg0sQqlj2M0XEI9SzDwlAIIg7qGAAThoEQyTI6wXG+U0PjuOJ28STUqyBaaUp+RRq4KSO85K2ksszIxm8QgtUDSXkeWFqS/1esvANrgrHQfqFI3GS/W3R9wtnHVNWR2WdpW3L7n07vY+6MLm0MVpTNduQhlvs+l68g0cI9yvSKLuEqBnRubGf2PdazAil4HiXMIxaiiQGNB8hmk2ZsVbe/A7OpeYP/TGG5uBRHZiTd7S08UKXLML6lBrkMvAeWcX5XZprDIpkXBrRLK4IxqJ2D2YjAQWZMaHhTLEw2SWnsBV5MSECyD77vCwuOhVNU817kMeVFyFC5yFsOdcAEVkWT1DdFnw22YtO9LxOC0MyrQSp5CIzDJzltezT1ZgHzS9LA/KvwG2kKs92T84FpcnyQ5fKH3tbwn5VYfmS6mtxJ6JaspfwoFQEAHcz8H08WRG1VFMLPQADGZ7GGWE3ZgCjw0SpBCgAGKf16oGh5Q1kdfLj3aKmsBAwclRijTMayEUbPsNKUypQSapVOiVyqF5x4J1hgZL2Gsr1HUZjRyHmSg+0uWZRCv9JBaF81AWoXrxurwSx5qzBui60cYw2vAcTtNx8d8uaxMVXy7npMWLCzmIcQ=
  - secure: s0RDqqhZuLztKKGpcQNUmsJhj0Hccrcq96eNBEN9iR92pL1wOv8nJvTYlbSJMJm1cBVsJrBpEqmnmo9tabDqHAoJ1yBM8+Hln6g4voYEHBDM7sgtK16zPCdFr5HvdHsBOHhgUmW+tQbzmGzA9SWoweyyl/fGwwkc82Exa7SeW4qeAfIcdM7RfpKaZstf4d3CTDQUs+gRJ51nT1MZeY4XU2AjaqqW2Pw4kYO7aqbjeBGyRVC9FuMzUsam/V8Q9STR3StJECW4fL2Hq6YdMktdGtjujtfNTY1ZgI3ztmY+/5Q9enWQ5Dc9PyrfcdPg3av8f3jVv5f92cKjNHHWzY3qGz3l0nYz9799uHnOimM3yPzDcxrCxkrh7/I2VFtYkd1KnepDQ4Z21P98GLvC9R7ztX4MZVKA1jGnfrVIWaAQh9yZpJV5mIViuI52rCGH1JnC3Tptezw88lALJEnYBKoYeidgEiLKBLS+PCqjJHppHcono8ljlNw8t6zwHTws9Ta5XuWvIh+azySceSZ+eh0Q+woejGW4tuYLXO9xBU9xVQczw09MOvD9Nx6AZfEcJNeKNr7mAP4Mb/LDxYVQ6t37MR3EMdGwdCwnY9WDLMeqgdTaQGeb78uRuBClny+uS74HN3mKKj6crr0fKa7hlbI8DIkxQTrE3WM4xppZ1be+BQs=
